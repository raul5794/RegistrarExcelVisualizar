<div class="container text-center">
<div class="row">
<div class="col">
    <button type="button" class="btn btn-primary" (click)="onClickExcel($event)">Cargar Excel</button>
</div>
<div class="col">
    <button type="button" class="btn btn-primary" (click)="onClickHoja($event)">Ver HAWB</button>
</div>
<div class="col">
    <button type="button"  class="btn btn-primary" (click)="onClickHojas($event)">Ver AWB</button>
</div>
</div>
</div>
<div>
    <hr   style="border: 1px solid  black"/>
    
</div>
<div class="row-fluid margen" *ngIf="grabarExcel">
    <div>
        <div class="row-fluid margen">
            <input type="text"   placeholder="Periodo" [(ngModel)]="periodo" />
        </div>
        <div class="row-fluid margen">
            <input type="text"  placeholder="Manifiesto"  [(ngModel)]="manifiesto" />
        </div>

        <div class="margen">
            <input #takeInput type="file"  (change)="onChange($event)">
        </div>
        <div class="margen">
            <button class="btn btn-lg btn-success" (click)="onProcesarExcel($event)">Procesar</button>
        </div>
        
    </div>
</div>

<div class="row-fluid " *ngIf="grabarGuia">
    <div class="row-fluid margen">
        <input type="text" placeholder="Manifiesto"  [(ngModel)]="hoja.manifiesto" />
    </div>
    <div class="row-fluid margen">
        <input type="text" placeholder="AWB"  [(ngModel)]="hoja.awb" />
    </div>
    <div class="row-fluid margen">
        <input type="text" placeholder="HAWB"  [(ngModel)]="hoja.hawb" />
    </div>
    <div class="row-fluid margen">
        <input type="text" placeholder="Periodo"  [(ngModel)]="hoja.periodo" />
    </div>

    <div>

        
        <button class="margen btn btn-lg btn-success" (click)="onBuscarGuia($event)">Buscar Guia</button>

        <table class="table table-striped table-bordered " style="width:100%; margin-top:1.5rem">
            <tr>
                <th scope="col">AWB</th>
                <th scope="col">HAWB</th>
                <th scope="col">Bultos Manifestados</th>
                <th scope="col">Bultos Tarjados</th>
                <th scope="col">Peso</th>
            </tr>
            <tr>
                <td>{{hoja.awb || " "}}</td>
                <td>{{hoja.hawb ||" "}}</td>
                <td>{{hoja.piezas ||" "}}</td>
                <td><input [(ngModel)]="hoja.piezasR" style="width:100%; align-self: center; background-color: lightblue;"></td>
                <td>{{hoja.pesosB || " "}}</td>



            </tr>
        </table>
        <button  class="margen btn btn-lg btn-success" (click)="onClickActualizar($event)">Actualizar</button>
    </div>
</div>

<div *ngIf="verGuias">
    <div class="row-fluid margen">
        <input placeholder = "Manifiesto" [(ngModel)]="hoja.manifiesto" />
    </div>
    <div class="row-fluid margen">
       
        <input placeholder="AWB" [(ngModel)]="hoja.awb" />
    </div>
   
<button class="margen btn btn-lg btn-success" (click)="onGuias($event)">
    Buscar Guias por AWB
</button>
    <table class="table table-striped table-bordered " style="width:100%;margin-top: 1.5rem;">
        <thead>
            <tr>
            <th >#</th>
            <th >HAWB</th>
            <th >Bultos Manifestados</th>
            <th >Bultos Tarjados</th>
            <th >Peso</th>
        </tr>
        </thead>
        <tbody class="table-hover">
            <tr *ngFor="let hoja of hojas, index as i"
                [ngClass]="{'verde':hoja.piezas == hoja.piezasR,'amarillo':hoja.piezas > hoja.piezasR,'rojo':hoja.piezas < hoja.piezasR}">

                <td>{{i+1}}</td>
                <td>{{hoja.hawb}}</td>
                <td>{{hoja.piezas}}</td>
                <td>{{hoja.piezasR}}</td>
                <td>{{hoja.pesosB}}</td>

            </tr>
        </tbody>
    </table>
</div>